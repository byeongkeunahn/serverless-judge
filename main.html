<!DOCTYPE html>
<html>
  <head>
    <title>Serverless Judge</title>
    <script type="module" src="./lib/runner.js"></script>
	<script type="module">
      async function run() {
        const solution_src = document.querySelector('#solution_src').value;
        const stdin_str = document.querySelector('#stdin').value;
        const stdin = new TextEncoder('utf8').encode(stdin_str);
		window.runSolution(solution_src, stdin).then(
		  result => document.querySelector('#stdout').value = result
		);
      }
      document.querySelector('#run').addEventListener('click', async() => { await run(); });
    </script>
  </head>
  <body>
    <h1>Serverless Judge</h1>
    Source code:<br>
    <textarea id="solution_src" cols="100" rows="10"></textarea><br>
    <button id="run">Run program</button><br><br>
    Standard input:<br>
    <textarea id="stdin" cols="100" rows="10"></textarea><br><br>
    Standard output:<br>
    <textarea id="stdout" cols="100" rows="10" readonly></textarea><br><br>
  </body>
</html>